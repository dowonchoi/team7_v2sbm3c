<!DOCTYPE html>
<html layout:decorate="~{layout}">
<div layout:fragment="content">

  <div class="title_line">📅 일정 삭제</div>

  <aside class="aside_right">
    <a href="javascript:location.reload();">새로고침</a>
    <span class="menu_divide">│</span>
    <a th:href="@{/calendar/list_all}">목록</a>
    <span class="menu_divide">│</span>
    <a th:href="@{/calendar/create}">등록</a>
  </aside>

  <div class="menu_line"></div>

  <fieldset class="fieldset_basic">
    <ul>
      <li class="li_none">
        <div style="text-align: center;">

          <!-- 제목 -->
          <div style="font-size: 1.8em; font-weight: bold; margin-bottom: 10px;" th:text="${calendarVO.title}"></div>

          <!-- 이미지 -->
          <div th:if="${calendarVO.file1saved != null and calendarVO.file1saved != ''}" style="margin-bottom: 10px;">
            <img th:src="@{|/calendar/storage/${calendarVO.file1saved}|}"
                 style="max-width: 300px; border: 1px solid #ccc; border-radius: 8px;">
          </div>

          <!-- 정보 -->
          <div style="font-size: 0.95em; color: #555; margin-bottom: 8px;">
            등록자: <span th:text="${calendarVO.id}"></span> │
            등록일: <span th:text="${#dates.format(calendarVO.regdate, 'yyyy-MM-dd HH:mm')}"></span> │
            공개여부: <span th:text="${calendarVO.visible == 'Y' ? '공개' : '비공개'}"></span>
          </div>

          <div style="margin-bottom: 20px; color: gray; font-size: 0.9em;">
            출력 날짜: <span th:text="${calendarVO.labeldate}"></span> │
            기간: <span th:text="${calendarVO.startdate + ' ~ ' + calendarVO.enddate}"></span>
          </div>

          <!-- 삭제 경고 -->
          <div style="margin-top: 20px; color: red; font-weight: bold; font-size: 1.1em;">
            ⚠️ 정말 삭제하시겠습니까?<br>
            <span style="font-size: 0.95em; color: #555;">
              삭제 후에는 복구가 불가능합니다.
            </span>
          </div>

          <!-- 버튼 -->
          <form name="frm" method="post" action="/calendar/delete">
            <input type="hidden" name="calendarno" th:value="${calendarVO.calendarno}" />

            <div style="margin-top: 30px;">
              <button type="submit" class="btn btn-danger">삭제</button>
              <button type="button" onclick="history.back();" class="btn btn-secondary">취소</button>
            </div>
          </form>

        </div>
      </li>
    </ul>
  </fieldset>

</div>
</html>
