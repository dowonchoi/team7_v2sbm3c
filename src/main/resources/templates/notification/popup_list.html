<ul class="notification-popup-list" th:if="${list != null and !list.isEmpty()}" style="list-style: none; padding: 0; margin: 0;">
  <li th:each="vo : ${list}" style="margin-bottom: 14px; padding: 16px 20px 16px 20px; background-color: #fffbe6; border-radius: 12px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); position: relative;">

    <!-- ✅ 삭제 버튼 (폼 처리) -->
    <form th:action="@{/notification/delete}" method="post"
          style="position: absolute; top: 10px; right: 14px; z-index: 10;"
          onsubmit="return confirm('이 알림을 삭제하시겠습니까?');">
      <input type="hidden" name="notification_id" th:value="${vo.notification_id}" />
      <button type="submit" style="border: none; background: transparent; color: #c00; font-size: 18px; cursor: pointer;">❌</button>
    </form>

    <!-- ✅ 알림 본문 -->
    <a th:href="@{/notification/read_and_redirect(notification_id=${vo.notification_id}, url=${vo.url})}"
       class="notification-popup-message"
       style="display: block; text-decoration: none; color: #333; padding-right: 60px;">

      <div style="display: flex; align-items: flex-start; gap: 8px;">
        <span class="noti-icon" th:if="${vo.type == 'inquiry'}" style="font-size: 16px;">📩</span>
        <span class="noti-icon" th:if="${vo.type == 'qna'}" style="font-size: 16px;">❓</span>
        <span class="noti-icon" th:if="${vo.type == 'system'}" style="font-size: 16px;">⚙️</span>

        <span th:text="${vo.message}" style="font-weight: 500; word-break: break-word; flex: 1;"></span>
      </div>
    </a>

    <!-- ✅ 메타 정보 -->
    <div class="notification-popup-meta" style="font-size: 12px; color: #888; margin-top: 6px; padding-left: 24px; padding-right: 60px;">
      <span th:if="${vo.created_at != null}"
            th:text="${#dates.format(vo.created_at, 'yyyy-MM-dd HH:mm')}"></span>
      ·
      <span th:classappend="${vo.is_read == 'Y'} ? 'notification-read' : 'notification-new'"
            th:text="${vo.is_read == 'Y' ? '읽음' : '새 알림'}"></span>
    </div>
  </li>
</ul>
<p th:if="${list == null or list.isEmpty()}" style="text-align: center; color: #666; font-size: 14px;">새로운 알림이 없습니다.</p>
